{"version":3,"file":"static/js/ContactList.866d6d59.chunk.js","mappings":"kOACA,EAAuB,0B,oBCAvB,GAAgB,KAAO,uBAAuB,IAAM,uB,SCkCpD,EA/BiB,SAAC,GAA0B,IAAxBA,EAAuB,EAAvBA,GAAIC,EAAmB,EAAnBA,KAAMC,EAAa,EAAbA,OAC1B,GAAuCC,EAAAA,EAAAA,MAAvC,eAAOC,EAAP,KAAwBC,EAAxB,KAAwBA,UAExB,OACI,gBAAIC,UAAWC,EAAAA,KAAf,WACI,kBAAMD,UAAWC,EAAAA,KAAjB,UACKN,EADL,KACaC,MAGb,mBACIF,GAAIA,EACJQ,KAAK,SACLF,UAAWC,EAAAA,IACXE,QAAS,kBAAML,EAAcJ,IAC7BU,SAAUL,EALd,SAOKA,GACG,SAAC,KAAD,CACIM,OAAO,KACPC,MAAM,KACNC,MAAM,SACNC,UAAU,YAGd,aApBgBd,ICkCpC,EArCoB,WAChB,IAAMe,GAAWC,EAAAA,EAAAA,MAAWC,WAAWC,KAAKC,MACpCC,GAASC,EAAAA,EAAAA,IAAoB,CACjCC,0BAA2BP,IADvBK,KAgBR,IAAMG,GAAQC,EAAAA,EAAAA,KAAY,SAAAC,GACtB,OAAKL,EAbT,SAA0BK,GACtB,IAAMC,EAASD,EAAMC,OAErB,OAAKA,EAIEN,EAAKM,QAAO,YACf,OAD6B,EAAXzB,KACN0B,cAAcC,SAASF,MAJ5BN,EAaJS,CAAiBJ,GAHb,MAMf,OACI,eAAInB,UAAWC,EAAf,SACKgB,EAAMO,KAAI,SAAAC,GACP,IAAQ/B,EAAO+B,EAAP/B,GAER,OAAO,SAAC,GAAD,UAAuB+B,GAAR/B","sources":["webpack://react-hw-08-phonebook-auth-tr/./src/components/ContactList/ContactList.module.css?1ce0","webpack://react-hw-08-phonebook-auth-tr/./src/components/ListItem/ListItem.module.css?0678","components/ListItem/ListItem.jsx","components/ContactList/ContactList.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"list\":\"ContactList_list__csErn\"};","// extracted by mini-css-extract-plugin\nexport default {\"item\":\"ListItem_item__3+qKK\",\"btn\":\"ListItem_btn__L2aV7\"};","import { useRemoveContactMutation } from 'services/contacts-api';\nimport { Rings } from 'react-loader-spinner';\nimport s from './ListItem.module.css';\n\nconst ListItem = ({ id, name, number }) => {\n    const [removeContact, { isLoading }] = useRemoveContactMutation();\n\n    return (\n        <li className={s.item} key={id}>\n            <span className={s.span}>\n                {name}: {number}\n            </span>\n\n            <button\n                id={id}\n                type=\"button\"\n                className={s.btn}\n                onClick={() => removeContact(id)}\n                disabled={isLoading}\n            >\n                {isLoading ? (\n                    <Rings\n                        height=\"50\"\n                        width=\"50\"\n                        color=\"yellow\"\n                        ariaLabel=\"loading\"\n                    />\n                ) : (\n                    'Delete'\n                )}\n            </button>\n        </li>\n    );\n};\n\nexport default ListItem;\n","import { useSelector, useStore } from 'react-redux/es/exports';\nimport { useGetContactsQuery } from 'services/contacts-api';\nimport s from './ContactList.module.css';\nimport ListItem from 'components/ListItem';\n\nconst ContactList = () => {\n    const newToken = useStore().getState().auth.token;\n    const { data } = useGetContactsQuery({\n        refetchOnMountOrArgChange: newToken,\n    });\n\n    function filteredContacts(state) {\n        const filter = state.filter;\n\n        if (!filter) {\n            return data;\n        }\n\n        return data.filter(({ name }) => {\n            return name.toLowerCase().includes(filter);\n        });\n    }\n\n    const items = useSelector(state => {\n        if (!data) {\n            return [];\n        }\n\n        return filteredContacts(state);\n    });\n\n    return (\n        <ul className={s.list}>\n            {items.map(contact => {\n                const { id } = contact;\n\n                return <ListItem key={id} {...contact} />;\n            })}\n        </ul>\n    );\n};\n\nexport default ContactList;\n"],"names":["id","name","number","useRemoveContactMutation","removeContact","isLoading","className","s","type","onClick","disabled","height","width","color","ariaLabel","newToken","useStore","getState","auth","token","data","useGetContactsQuery","refetchOnMountOrArgChange","items","useSelector","state","filter","toLowerCase","includes","filteredContacts","map","contact"],"sourceRoot":""}